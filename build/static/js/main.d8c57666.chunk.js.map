{"version":3,"sources":["components/Person.js","services/serverService.js","App.js","reportWebVitals.js","index.js"],"names":["Person","person","eliminatePerson","name","number","onClick","baseUrl","axios","get","newObject","post","id","put","delete","Filter","props","onChange","Phonebook","useState","message","setMessage","persons","filter","includes","map","find","n","serverService","then","response","alert","catch","error","NewPersonForm","onSubmit","submit","value","newName","handleNameChange","newNumber","handleNumberChange","type","Notification","className","App","setPersons","setNewName","setNewNumber","setFilter","errorMessage","setErrorMessage","useEffect","data","event","target","preventDefault","personObject","date","Date","toISOString","Math","random","length","console","log","obj","list","i","containsObject","concat","window","confirm","findId","setTimeout","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d8c57666.chunk.js","sourcesContent":["import React from 'react'\nconst Person = ({ person, eliminatePerson }) => {\n    return (\n      <li>{person.name}  {person.number}  <button onClick={eliminatePerson}>delete</button></li>\n    )\n  }\n  \n  export default Person","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  \n  return request\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request\n  \n}\n\nconst eliminate = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request\n}\n\nexport default { getAll, create, update, eliminate }","import React, { useState, useEffect } from 'react'\nimport Person from './components/Person'\nimport axios from 'axios'\nimport serverService from './services/serverService'\nimport './index.css'\n\nconst Filter = (props) => {\n\n  return(\n    <p>filter shown with  <input onChange={props.onChange}/></p>\n  )\n}\n\nconst Phonebook = (props) => {\n\n\n  const [message, setMessage] = useState('some message')\n\n  const eliminatePerson = (id) => {\n    const url = `http://localhost:3001/notes/${id}`\n    const note =  props.persons.find(n => n.id === id)\n    \n    serverService\n    .eliminate(id)\n    .then(response => {\n      setMessage('id ' + id + ' was deleted')\n      alert(message)\n    })\n    .catch(error => {\n      alert(\n        `the person '${id}' was already deleted from server`\n      )\n      \n    })\n    \n  \n    \n  }  \n\n  return(\n    <div><h2>Numbers</h2>\n \n    <ul>\n    {props.persons.filter(person => person.name.includes(props.filter)).map(person =>\n        <Person key={person.id} person={person} eliminatePerson={() => eliminatePerson(person.id)}/>\n        \n      )}\n    </ul></div>\n  )\n}\n\nconst NewPersonForm = (props) => {\n\n  return(\n    <form onSubmit={props.submit}>\n    <div>\n\n    <h2>Add a new number</h2>\n   \n<div>name: <input value={props.newName} onChange={props.handleNameChange} /></div>\n<div>number: <input value={props.newNumber} onChange={props.handleNumberChange}/></div>\n<div><button type=\"submit\">add</button></div>\n\n    </div>\n  </form>\n  )\n}\n\nconst Notification = ({ message, type }) => {\n  if (message === null) {\n    return null\n  }\n\n  if (message.includes(\"Added\")){\n\n  return (\n    <div className=\"message\">\n      {message}\n    </div>\n  )}\n\n  return(\n    <div className=\"invisible\">\n      {message}\n    </div>\n  )\n\n}\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [filter, setFilter] = useState('')\n  const [errorMessage, setErrorMessage] = useState('some error happened...')\n\n  useEffect(() => {\n    serverService\n      .getAll()\n      .then(response => {\n      \n        setPersons(response.data)\n      })\n  }, [])\n\n\n  const handleMessageChange = (event) => {\n    setErrorMessage(event.target.value)\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n\n\n  const addName = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber,\n      date: new Date().toISOString(),\n      id: Math.random()*persons.length + 1,\n    }\n\n    function containsObject(obj, list) {\n      var i;\n      for (i = 0; i < list.length; i++) {\n          if (list[i].name === obj.name) {\n           return true;\n          }\n      }\n      return false;\n  }\n\n  function findId(obj, list){\n    var i;\n    for (i=0; i < list.length; i++){\n      if (list[i].name === obj.name) {\n        return list[i].id;\n       }\n    }\n  }\n\n  console.log(personObject)\n  console.log(persons)\n\n\n  if (containsObject(personObject, persons) == false) {\n    serverService\n    .create(personObject)\n    .then(response => {\n      setPersons(persons.concat(response.data))\n      setNewName('')\n      setNewNumber('')\n      setErrorMessage(\"Added \" + personObject.name)\n    })\n  } else {\n    var r = window.confirm(`${newName} is already added to phonebook, replace the old number with the new one? `);\n              if (r==true){\n                var id = findId(personObject, persons)\n            \n                serverService\n                .update(id, personObject)\n                .then(response => {\n                  setPersons(persons.map(person => person.id !== id ? person : personObject))\n                \n                  setNewName('')\n                  setNewNumber('')\n                })\n                .catch(error => {   \n                   setErrorMessage(\n                  `Note '${personObject.name}' was already removed from server`\n                )\n                setTimeout(() => {\n                  setErrorMessage(null)\n                }, 5000)\n                \n              })\n              } else {\n                alert(\"ok\")\n              }\n  }\n  \n\n\n\n\n    \n  }\n\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={errorMessage} />\n      <Filter  onChange={handleFilterChange}></Filter>\n      <NewPersonForm submit={addName} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange}></NewPersonForm>\n      <Phonebook persons={persons} filter={filter} />\n    </div>\n  )\n}\n\nexport default App","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}